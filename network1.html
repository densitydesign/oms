<!DOCTYPE html>
<html>
  <head>
    <title>Bootstrap 101 Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  	
  	<script>
  		
  		var notes = {
  			
  			"dolor":"dolor m, f (plural dolors) pain of a continuing nature, especially that of rheumatism; sorrow or grief of a continuing nature",
  			"velit":"third-person singular present active subjunctive of volo"
  			
  		} 
  		
  	</script>
  	
     <!-- Fixed navbar -->
    
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
       
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="./intro.html">intro</a></li>
            <li class="active"><a href="./network1.html">corpus</a></li>
            <li><a href="./network2.html">network</a></li>
            <li><a href="./network3.html">text</a></li>
            <li><a href="./network4.html">images</a></li>
            <li><a href="./intro1.html">aufeminin</a></li>
            <li><a href="./network5.html">forums</a></li>
            <li><a href="./network6.html">users</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  
  	
    <section id="intro" class="intro bg-full long">
    	<h2 class="section">section</h2>
    	<h1 class="title-full">Who are the actors of the controversy?</h1>
	
	
	
	<div class="container">
		<div class="row section-row">
			<div class="col-md-10 col-md-offset-2 section-text">
				
				
				<p>Lorem ipsum <b note="dolor">dolor</b> sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla.  </p>
				
				<p>Curabitur sodales ligula in libero. Sed dignissim lacinia nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at dolor. Maecenas mattis. </p>
				
				
				<p>Lorem ipsum <b note="dolor">dolor</b> sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla.  </p>
				
				<p>Curabitur sodales ligula in libero. Sed dignissim lacinia nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at dolor. Maecenas mattis. </p>
				
				<p>Lorem ipsum <b note="dolor">dolor</b> sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla.  </p>
				
				<p>Curabitur sodales ligula in libero. Sed dignissim lacinia nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at dolor. Maecenas mattis. </p>
				
				<!-- <div class="col-md-5 quote">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit.
				
				</div> -->
			
				<p>Quisque volutpat condimentum <b note="velit">velit</b>. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nam nec ante. Sed lacinia, urna non tincidunt mattis, tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi. Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat imperdiet. </p>
		</div>
			
			
		</div>
		
		
		
		
	</div>
	</section>
	
	<section id="viz" class="viz">
		
		<div class="side-panel">
			
			<div class="adva-cont">
			
				<div class="adv-step step1" style="display:block;">
					
					<h4>A short first title</h4>
					<p>
						Nevertheless, upon Stubb setting the anchor-watch after his supper was concluded; and when, accordingly, Queequeg and a forecastle seaman came on deck, no small excitement was created among the sharks; for immediately suspending the cutting stages over the side, and lowering three lanterns, so that they cast long gleams of light over the turbid sea, these two mariners, darting their long whaling-spades, kept up an incessant murdering of the sharks,* by striking the keen steel deep into their skulls, seemingly their only vital part. But in the foamy confusion of their mixed and struggling hosts, the marksmen could not always hit their mark; and this brought about new revelations of the incredible ferocity of the foe. 
					</p>
					
				</div>
			
				<div class="adv-step step2">
					
					<h4>A short second title</h4>
					<p>
						Nevertheless, upon Stubb setting the anchor-watch after his supper was concluded; and when, accordingly, Queequeg and a forecastle seaman came on deck, no small excitement was created among the sharks; for immediately suspending the cutting stages over the side, and lowering three lanterns, so that they cast long gleams of light over the turbid sea, these two mariners, darting their long whaling-spades, kept up an incessant murdering of the sharks,* by striking the keen steel deep into their skulls, seemingly their only vital part. But in the foamy confusion of their mixed and struggling hosts, the marksmen could not always hit their mark; and this brought about new revelations of the incredible ferocity of the foe. 
					</p>
					
				</div>
	
			</div>
		<div class="legend">
			
			<h5>Step 2</h5>
			<p>Blue is good<br/>
			Red is bad</p>
			
		</div>
			
		</div>
		
		
	</section>
	
	
	<div id="protocol">
			
		<div class="proto-title closing">PROTOCOL_01</div>
		<img class="close-btn closing" src="img/cross.png"/>
		
		<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
		  <!-- Indicators -->
		  <ol class="carousel-indicators">
		    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
		    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
		  </ol>
		
		  <!-- Wrapper for slides -->
		  <div class="carousel-inner">
		    <div class="item active">
		    	
		    	<div class="step">
		    		<img src="img/protocol1.png"/>
				    	<h3>1_TAGGING</h3>
				    	<p>I will give you a complete account of the
						system, and expound the actual teachings
						of the great explorer of the truth.</p>
				    </div>
				    
				    <div class="step">
		    		<img src="img/protocol1.png"/>
				    	<h3>2_GROUPING</h3>
				    	<p>I will give you a complete account of the
						system, and expound the actual teachings
						of the great explorer of the truth.</p>
				    </div>
				    
				    <div class="step">
		    		<img src="img/protocol1.png"/>
				    	<h3>3_DANCING</h3>
				    	<p>I will give you a complete account of the
						system, and expound the actual teachings
						of the great explorer of the truth.</p>
						<button class="btn">Download Data</button>
				    </div>

		    	</div>
		    	
		    	
		    	<div class="item">
		    	
		    	<div class="step">
		    		<img src="img/protocol1.png"/>
				    	<h3>4_PLANNING</h3>
				    	<p>I will give you a complete account of the
						system, and expound the actual teachings
						of the great explorer of the truth.</p>
				    </div>
				    
				    <div class="step">
		    		<img src="img/protocol1.png"/>
				    	<h3>5_TURING</h3>
				    	<p>I will give you a complete account of the
						system, and expound the actual teachings
						of the great explorer of the truth.</p>
						<button class="btn">Download Data</button>
				    </div>
				    
				   <div class="step">
		    		<img src="img/protocol1.png"/>
				    	<h3>6_CURLING</h3>
				    	<p>I will give you a complete account of the
						system, and expound the actual teachings
						of the great explorer of the truth.</p>
				    </div>

		    	</div>
		    	
		  </div>
		
		  <!-- Controls -->
		  
		</div>
			
	</div>
	
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.mousewheel.js"></script>
    <script src="js/d3.v3.min.js"></script>

    
    <script>
	
	

  	var checkPoints = [
  		"intro()",
  		"viz()",
  		"step2()"
  		];

	 var step = 0;
		var timer=0;
		var direction=0;
	
	
	$(document).ready(function(){
	    
	    $("#protocol").css("left","98%");
	    
	    
	    
	    //General interactions
	
		$('.carousel').carousel({
		  "wrap":false,
		  "interval":false
		})
		
		$("#protocol").click(function() {
			
			if($("#protocol").position().left >0){ 
				$("#protocol").css("left",0);
				$(".close-btn").css('-webkit-transform','rotate(90deg)');
				$(".close-btn").css('-moz-transform','rotate(90deg)');
			}
			
		})
		
		$(".closing").click(function() {
			console.log($("#protocol").css("left"))
			if($("#protocol").css("left")=="0px") {
				$("#protocol").css("left","98%");
				$(".close-btn").css('-webkit-transform','rotate(45deg)');
				$(".close-btn").css('-moz-transform','rotate(45deg)');
			}
		})
		
		
		$("b").hover(function() {
			height=$(this).position().top;
			att = $(this).attr('note');
			txt = notes[att]; 
			$(".section-text").append('<div class="note" style="top:'+height+'px">'+txt+'</div>');
		},
		
		function() {
			$(".note").remove();
		})
		
			
		$("#protocol").mousewheel(function(event){
			return false;
		});
		
	
	
		//=======================
		//scroll interaction
	        
	    $('.long').bind('mousewheel',chk_scroll);
	    $('.adva-cont').bind('mousewheel',disableScroll);


		//general scroll behaviour
		  window.onmousewheel = document.onmousewheel = function(e) {
				if(timer==0) {
					timer=20;
					
					var e = window.event || e; // old IE support
					var delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));
					console.log(delta)
					if(delta<0) direction="down"
					else if(delta>0) direction="up";
					
					checkLevel();
				}
		    if (e.preventDefault)
		        e.preventDefault();
		    e.returnValue = false;
		  };
		  
		  //timeout to check scroll updates
		  timeoutid = setInterval('checkTime();', 100);
	});
	
	//timing for scroll update
	function checkTime(){
		
		if (timer>0) {
			timer--;
		}
		
	}
	
	function chk_scroll(e)
	{
		if (timer==0) {
		    var elem = $(e.currentTarget); 
		   
		    if (!(elem[0].scrollHeight - elem.scrollTop() == elem.outerHeight())) 
		    {
		        e.stopPropagation();
		    }
		    else {
		    	//timer=40;
		    	console.log("set timer!")
	
		    }
		}
		
	}
	
	function disableScroll(e,delta) {
		var elem = $(e.currentTarget);
		console.log(elem);
		elem.scrollTop(elem.scrollTop() - (40 * delta));
	    //set_bar();
	    e.stopPropagation();
	    return false;
	}
	
	//load next or previous screen according to scroll direction
	function checkLevel() {

  		if (direction=="down" && step < checkPoints.length-1) {
  			step++;
  			eval(checkPoints[step]);
  		}
  		else if(direction=="up" && step>0) {
  			step--;
  			eval(checkPoints[step]);
  			
  		}
  	}
  	
  	//end scroll
  	//====================
  	
  	
  	
  	
  	
  	//====================
  	//screens functions
  	
  	function intro() {
  		scrollToID("#intro",600);
  		
  	}
  	
  	function viz() {
  		
  		scrollToID("#viz",600);
  		a=$(".adv-step:visible");
  		if (!a.hasClass("step1")) {
  			a.fadeOut(500,function(){$(".adva-cont").scrollTop(0); $(".step1").fadeIn(500)});
  		}
  		
  	}
  	
  	function step2() {
  		
  		a=$(".adv-step:visible");
  		if (!a.hasClass("step2")) {
  			a.fadeOut(500,function(){$(".adva-cont").scrollTop(0); $(".step2").fadeIn(500)});
  		}
  		
  	}
  	
  	//end screens functions
  	//=====================



  	//utility to animate transition between divs
  	function scrollToID(id, speed){

		
		var targetOffset = $(id).offset().top;
		$(id).scrollTop(0);
		$('html,body').animate({scrollTop:targetOffset}, speed);
		
	}
		

	</script>
    
  </body>
</html>